{% extends 'main.html' %} {% load static %} {% block content %}

<!-- Video Section -->
<section class="py-5">
  <div class="container text-center justify-content-center">
    <h1 class="display-5 fw-bold mb-3" style="color: #90953b">
        {{ city.theme }}
    </h1>
    <p class="lead text-muted">
        {{ city.description }}
    </p>

    <div
      class="ratio ratio-16x9 mb-4 border"
      style="max-width: 800px; width: 100%; margin: 0 auto"
    >
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/{{ city.video }}?autoplay=1"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen
      ></iframe>
    </div>

    <button
      class="btn btn-lg px-4 py-2 main-btn"
      onclick="showQuiz('{{city.name}}')"
    >
        Mulai Kuis
    </button>
  </div>
</section>

<!-- Quiz Section (Static Structure) -->
<section id="quiz" class="py-5 bg-white" style="display: none">
  <div class="container">
    <div class="card shadow-lg border-0">
      <div
        class="card-header text-center py-3"
        style="background-color: #90953b; color: white"
      >
        <h3 class="mb-0">Quiz: Test Your Knowledge</h3>
        <p id="num-questions" class="mb-0 mt-2">Question 1 of 3</p>
      </div>
      <div class="card-body p-4">
        <div class="row">
          <div id="img-container" class="col-md-6 mb-4 text-center"></div>
          <div class="col-md-6">
            <h4 id="question" class="mb-4" style="color: #90953b">
              What is the capital city of Java island shown in this image?
            </h4>
            <div id="answares" class="d-grid gap-2">
              <button class="btn btn-outline-secondary text-start p-3">
                A. Surabaya
              </button>
              <button class="btn btn-outline-secondary text-start p-3">
                B. Jakarta
              </button>
              <button class="btn btn-outline-secondary text-start p-3">
                C. Bandung
              </button>
              <button class="btn btn-outline-secondary text-start p-3">
                D. Yogyakarta
              </button>
            </div>
          </div>
        </div>

        <div id="next-prev" class="d-flex justify-content-between mt-4">
          <button
            class="btn btn-outline-secondary"
            disabled
            onclick="handlePreviousQuestion('id')"
          >
            Sebelumnya
          </button>
          <button
            class="btn btn-warning text-white"
            onclick="handleNextQuextion('id')"
          >
           Selanjutnya 
          </button>
        </div>

        <div class="mt-4">
          <div class="progress" style="height: 8px">
            <div
              class="progress-bar"
              style="background-color: #e2b971; width: 33%"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Quiz Results (Static Example) -->
<section id="quiz-result" class="py-5 bg-light" style="display: none">
  <div class="container">
    <div class="card shadow-lg border-0">
      <div
        class="card-header text-center py-3"
        style="background-color: #90953b; color: white"
      >
        <h3 class="mb-0">Hasil Belajar Kamu</h3>
      </div>
      <div class="card-body text-center">
        <div class="mb-4">
          <div
            id="quiz-score-res"
            class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
            style="
              width: 100px;
              height: 100px;
              background-color: #f3ede0;
              color: #90953b;
              font-size: 2rem;
              font-weight: bold;
            "
          >
          </div>
          <h4 id="quiz-score" style="color: #90953b"></h4>
          <p id="feed-back" class="lead text-muted">
          </p>
        </div>
        <div class="d-flex justify-content-center gap-3">
          <button
            class="btn btn-lg px-4 py-2 text-white"
            style="background-color: #e2b971"
            onclick="handleRetakeQuiz('{{ city.name }}')"
          >
           Kerjakan Ulang Kuis 
          </button>
          <a
            href="{% url 'home' %}"
            class="btn btn-outline-secondary btn-lg px-4 py-2"
            >Kembali ke Beranda</a
          >
        </div>
      </div>
    </div>
  </div>
</section>

<script src="{% static 'js/index.js' %}"></script>

{% endblock content %}
